# Тест 8: Отладка проблемы с try после функции
print("Тест 8: Отладка проблемы с try после функции")
print("=============================================")

# Код перед функцией
print("Код перед функцией")

# Функция с вложенными циклами
global function merge_tables(tables) do
    if len(tables) == 0 do
        return null
    endif
    
    local headers = table_headers(tables[0])
    local all_rows = []
    
    for table in tables do
        for row in table do
            all_rows = push(all_rows, row)
        next row
    next table
    
    return table_create(all_rows, headers)
endfunction

# Код после функции - здесь должна быть ошибка
print("Код после функции, перед try")

# Пробуем try
try
    print("  Внутри try")
catch e
    print("  Ошибка: ", e)
endtry

print("✓ Тест завершен")

