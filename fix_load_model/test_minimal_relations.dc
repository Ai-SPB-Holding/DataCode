# –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π —Ç–µ—Å—Ç –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —ç–∫—Å–ø–æ—Ä—Ç–∞ —Å–≤—è–∑–µ–π
# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ: datacode test_minimal_relations.dc --build_model

print("============================================================")
print("üß™ –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π —Ç–µ—Å—Ç —ç–∫—Å–ø–æ—Ä—Ç–∞ —Å–≤—è–∑–µ–π")
print("============================================================")
print()

# –°–æ–∑–¥–∞–µ–º –¥–≤–µ –ø—Ä–æ—Å—Ç—ã–µ —Ç–∞–±–ª–∏—Ü—ã
print("üìä –°–æ–∑–¥–∞–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤—ã—Ö —Ç–∞–±–ª–∏—Ü...")
global products = table([[1, "Product 1"], [2, "Product 2"]], ["id", "name"])
global sales = table([[1, 1, 100], [2, 2, 200]], ["id", "product_id", "amount"])

print("  ‚úì –°–æ–∑–¥–∞–Ω–æ —Ç–∞–±–ª–∏—Ü: 2")
print("  ‚úì products: ", len(products), " —Å—Ç—Ä–æ–∫")
print("  ‚úì sales: ", len(sales), " —Å—Ç—Ä–æ–∫")
print()

# –°–æ–∑–¥–∞–µ–º —Å–≤—è–∑—å
print("üîó –°–æ–∑–¥–∞–Ω–∏–µ —Å–≤—è–∑–∏...")
try
    relate(products["id"], sales["product_id"])
    print("  ‚úì –°–≤—è–∑—å —Å–æ–∑–¥–∞–Ω–∞: products.id ‚Üî sales.product_id")
catch e
    print("  ‚ùå –û—à–∏–±–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è —Å–≤—è–∑–∏: ", e)
endtry
print()

print("============================================================")
print("‚úÖ –¢–µ—Å—Ç –∑–∞–≤–µ—Ä—à–µ–Ω!")
print("============================================================")
print()
print("üí° –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ë–î:")
print("   sqlite3 load_model_data.db \"SELECT * FROM _datacode_relations;\"")
print()

