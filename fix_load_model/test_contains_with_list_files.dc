# –¢–µ—Å—Ç contains —Å —Ä–µ–∞–ª—å–Ω—ã–º list_files
# –ü—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ contains —Ä–∞–±–æ—Ç–∞–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ —Å –¥–∞–Ω–Ω—ã–º–∏ –∏–∑ list_files

print("============================================================")
print("–¢–µ—Å—Ç: contains —Å list_files")
print("============================================================")

# –ë–∞–∑–æ–≤—ã–π –ø—É—Ç—å
global base_path = getcwd() / "model_data"

print("üìÇ –¢–µ—Å—Ç–∏—Ä—É–µ–º list_files –≤: ", base_path)
print()

# –ü–æ–ª—É—á–∞–µ–º —Å–ø–∏—Å–æ–∫ —ç–ª–µ–º–µ–Ω—Ç–æ–≤
try
    local year_dirs = list_files(base_path)
    print("  –ù–∞–π–¥–µ–Ω–æ —ç–ª–µ–º–µ–Ω—Ç–æ–≤: ", len(year_dirs))
    print("  –¢–∏–ø year_dirs: –º–∞—Å—Å–∏–≤")
    print()
    
    # –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º –∫–∞–∂–¥—ã–π –≥–æ–¥
    for year_dir in year_dirs do
        print("  üîç –ì–æ–¥: ", year_dir)
        print("     –¢–∏–ø year_dir: ", typeof(year_dir))
        
        # –ü—Ä–æ–≤–µ—Ä—è–µ–º —É—Å–ª–æ–≤–∏–µ –¥–ª—è –≥–æ–¥–∞
        local year_condition = year_dir != "docs" and year_dir != "__pycache__" and year_dir != "generate_model_data.py" and not contains(year_dir, ".")
        print("     –£—Å–ª–æ–≤–∏–µ –¥–ª—è –≥–æ–¥–∞: ", year_condition)
        
        if year_condition do
            print("     ‚úÖ –ì–æ–¥ –ø—Ä–æ—à–µ–ª —Ñ–∏–ª—å—Ç—Ä")
            
            # –ü–æ–ª—É—á–∞–µ–º —Å–ø–∏—Å–æ–∫ –º–µ—Å—è—Ü–µ–≤
            try
                local month_dirs = list_files(base_path / year_dir)
                print("     –ù–∞–π–¥–µ–Ω–æ –º–µ—Å—è—Ü–µ–≤: ", len(month_dirs))
                
                for month_dir_name in month_dirs do
                    print("        üîç –ú–µ—Å—è—Ü: ", month_dir_name)
                    print("           –¢–∏–ø month_dir_name: ", typeof(month_dir_name))
                    
                    # –î–µ—Ç–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ contains
                    local contains_quarter = contains(month_dir_name, "quarter_")
                    local contains_dot = contains(month_dir_name, ".")
                    
                    print("           contains(month_dir_name, \"quarter_\"): ", contains_quarter)
                    print("           contains(month_dir_name, \".\"): ", contains_dot)
                    
                    local not_contains_quarter = not contains_quarter
                    local not_contains_dot = not contains_dot
                    
                    print("           not contains(month_dir_name, \"quarter_\"): ", not_contains_quarter)
                    print("           not contains(month_dir_name, \".\"): ", not_contains_dot)
                    
                    local combined_condition = not_contains_quarter and not_contains_dot
                    print("           –£—Å–ª–æ–≤–∏–µ (not contains(..., \"quarter_\") and not contains(..., \".\")): ", combined_condition)
                    
                    if combined_condition do
                        print("           ‚úÖ –ú–µ—Å—è—Ü –ø—Ä–æ—à–µ–ª —Ñ–∏–ª—å—Ç—Ä - –±—É–¥–µ—Ç –æ–±—Ä–∞–±–æ—Ç–∞–Ω")
                    else
                        print("           ‚ö†Ô∏è  –ú–µ—Å—è—Ü –ù–ï –ø—Ä–æ—à–µ–ª —Ñ–∏–ª—å—Ç—Ä - –±—É–¥–µ—Ç –ø—Ä–æ–ø—É—â–µ–Ω")
                        if contains_quarter do
                            print("              –ü—Ä–∏—á–∏–Ω–∞: —Å–æ–¥–µ—Ä–∂–∏—Ç \"quarter_\"")
                        endif
                        if contains_dot do
                            print("              –ü—Ä–∏—á–∏–Ω–∞: —Å–æ–¥–µ—Ä–∂–∏—Ç \".\"")
                        endif
                    endif
                    print()
                next month_dir_name
            catch e
                print("     ‚ö†Ô∏è  –û—à–∏–±–∫–∞ –ø–æ–ª—É—á–µ–Ω–∏—è –º–µ—Å—è—Ü–µ–≤: ", e)
            endtry
        else
            print("     ‚ö†Ô∏è  –ì–æ–¥ –ù–ï –ø—Ä–æ—à–µ–ª —Ñ–∏–ª—å—Ç—Ä")
        endif
        print()
    next year_dir
catch e
    print("  ‚ö†Ô∏è  –û—à–∏–±–∫–∞ –ø–æ–ª—É—á–µ–Ω–∏—è —Å–ø–∏—Å–∫–∞ –≥–æ–¥–æ–≤: ", e)
endtry

print("============================================================")
print("‚úÖ –¢–µ—Å—Ç –∑–∞–≤–µ—Ä—à–µ–Ω")
print("============================================================")

