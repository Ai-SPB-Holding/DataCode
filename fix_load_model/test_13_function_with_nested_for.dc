# Тест 13: Функция с вложенными циклами for
print("Тест 13: Функция с вложенными циклами for")
print("==========================================")

# Код перед функцией
print("Код перед функцией")

# Функция с вложенными циклами for (как merge_tables)
global function merge_tables(tables) do
    if len(tables) == 0 do
        return null
    endif
    
    local headers = table_headers(tables[0])
    local all_rows = []
    
    for table in tables do
        for row in table do
            all_rows = push(all_rows, row)
        next row
    next table
    
    return table_create(all_rows, headers)
endfunction

# Цикл for с try внутри
global test_array = ["a"]

for item in test_array do
    try
        print("  Item: ", item)
    catch e
        print("  Error: ", e)
    endtry
next item

print("✓ Тест завершен")

