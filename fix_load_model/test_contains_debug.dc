# –¢–µ—Å—Ç –æ—Ç–ª–∞–¥–∫–∏ –ø—Ä–æ–±–ª–µ–º—ã —Å contains
# –í–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏–º —Ç–æ—á–Ω—É—é —Å–∏—Ç—É–∞—Ü–∏—é –∏–∑ load_model_data.dc

print("============================================================")
print("–¢–µ—Å—Ç: –û—Ç–ª–∞–¥–∫–∞ –ø—Ä–æ–±–ª–µ–º—ã contains –≤ load_model_data.dc")
print("============================================================")

global base_path = getcwd() / "model_data"

print("üìÇ –ë–∞–∑–æ–≤—ã–π –ø—É—Ç—å: ", base_path)
print()

# –ü–æ–ª—É—á–∞–µ–º —Å–ø–∏—Å–æ–∫ –≥–æ–¥–æ–≤
global year_dirs = []
try
    year_dirs = list_files(base_path)
    print("  –ù–∞–π–¥–µ–Ω–æ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –≤ model_data: ", len(year_dirs))
catch e
    print("  ‚ö†Ô∏è  –û—à–∏–±–∫–∞ –ø–æ–ª—É—á–µ–Ω–∏—è —Å–ø–∏—Å–∫–∞ —Ñ–∞–π–ª–æ–≤: ", e)
endtry
print()

# –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º –∫–∞–∂–¥—É—é –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –≥–æ–¥–∞ (–∫–∞–∫ –≤ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–º –∫–æ–¥–µ)
for year_dir in year_dirs do
    # –ü—Ä–æ–ø—É—Å–∫–∞–µ–º —Ñ–∞–π–ª—ã –∏ —Å–ª—É–∂–µ–±–Ω—ã–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏
    if year_dir != '2025' do
        next year_dir
    endif

    print("  üîç –ì–æ–¥ ", year_dir)

    if year_dir != "docs" and year_dir != "__pycache__" and year_dir != "generate_model_data.py" and not contains(year_dir, ".") do
        
        # –ü–æ–ª—É—á–∞–µ–º —Å–ø–∏—Å–æ–∫ –º–µ—Å—è—Ü–µ–≤ –≤ –≥–æ–¥—É
        local month_list = null
        try
            month_list = list_files(base_path / year_dir)
            print("     –ù–∞–π–¥–µ–Ω–æ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –≤ –≥–æ–¥—É: ", len(month_list))
        catch e
            print("     ‚ö†Ô∏è  –û—à–∏–±–∫–∞ –ø–æ–ª—É—á–µ–Ω–∏—è –º–µ—Å—è—Ü–µ–≤: ", e)
            month_list = null
        endtry
        
        # –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º –∫–∞–∂–¥—É—é –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –º–µ—Å—è—Ü–∞ (–¢–û–ß–ù–û –ö–ê–ö –í –û–†–ò–ì–ò–ù–ê–õ–ï)
        for month_dir_name in month_list do
            if month_dir_name != '03' do
                next month_dir_name
            endif

            print("     üîç –ú–µ—Å—è—Ü ", month_dir_name)

            for file_mounth in list_files(base_path / year_dir / month_dir_name) do
                
                print("        üîç –§–∞–π–ª ", file_mounth)
                # –í–û–¢ –ü–†–û–ë–õ–ï–ú–ù–û–ï –£–°–õ–û–í–ò–ï
                print("        –ü—Ä–æ–≤–µ—Ä–∫–∞ —É—Å–ª–æ–≤–∏—è: if not contains(file_mounth, 'quarter_') and not contains(file_mounth, '.')")
                
                # –î–µ—Ç–∞–ª—å–Ω–∞—è –æ—Ç–ª–∞–¥–∫–∞
                local check1 = contains(file_mounth, "quarter_")
                local check2 = contains(file_mounth, ".")
                local not_check1 = not check1
                local not_check2 = not check2
                local final_condition = not_check1 and not_check2
                
                print("        contains(file_mounth, 'quarter_'): ", check1)
                print("        contains(file_mounth, '.'): ", check2)
                print("        not contains(file_mounth, 'quarter_'): ", not_check1)
                print("        not contains(file_mounth, '.'): ", not_check2)
                print("        –ò—Ç–æ–≥–æ–≤–æ–µ —É—Å–ª–æ–≤–∏–µ (not check1 and not check2): ", final_condition)
                print("        typeof(file_mounth): ", typeof(month_dir_name))
                print("        file_mounth == 'quarter_2025_Q1': ", file_mounth == "quarter_2025_Q1")
                
                # –ü—Ä–æ–≤–µ—Ä—è–µ–º —Ä–µ–∞–ª—å–Ω–æ–µ —É—Å–ª–æ–≤–∏–µ
                if contains(file_mounth, "quarter_") and not contains(file_mounth, ".") do
                    print("        ‚úÖ –£–°–õ–û–í–ò–ï –í–´–ü–û–õ–ù–ï–ù–û - –í–û–®–ï–õ –í IF")
                    
                    # file_mounth –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å "01", "02", ..., "12"
                    for file in list_files(base_path / year_dir / month_dir_name / file_mounth) do
                        print("             üîç —Ñ–∞–π–ª ", file)
                    next file
                else
                    print("        ‚ö†Ô∏è  –£–°–õ–û–í–ò–ï –ù–ï –í–´–ü–û–õ–ù–ï–ù–û - –ù–ï –í–û–®–ï–õ –í IF")
                    if check1 do
                        print("        –ü—Ä–∏—á–∏–Ω–∞: —Å–æ–¥–µ—Ä–∂–∏—Ç 'quarter_'")
                    endif
                    if check2 do
                        print("        –ü—Ä–∏—á–∏–Ω–∞: —Å–æ–¥–µ—Ä–∂–∏—Ç '.'")
                    endif
                    print("        –¢–∞–∫ –∏ –Ω—É–∂–Ω–æ")
                endif
                print()
            next file_mounth
        next month_dir_name
    endif
next year_dir

print("============================================================")
print("‚úÖ –¢–µ—Å—Ç –∑–∞–≤–µ—Ä—à–µ–Ω")
print("============================================================")

