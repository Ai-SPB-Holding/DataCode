# Тест list_files после исправления
print("Тест list_files (после исправления)")
print("====================================")

global base_path = getcwd() / "model_data"
print("Базовый путь: ", base_path)
print()

try
    local items = list_files(base_path)
    print("Количество элементов: ", len(items))
    print("Элементы:")
    for item in items do
        print("  - ", item, " (тип: ", typeof(item), ")")
    next item
catch e
    print("Ошибка: ", e)
endtry

print()
print("Проверка директории 2023:")
try
    local year_path = base_path / "2023"
    local items = list_files(year_path)
    print("Количество элементов: ", len(items))
    print("Элементы:")
    for item in items do
        print("  - ", item)
    next item
catch e
    print("Ошибка: ", e)
endtry

print()
print("Проверка директории 2023/01:")
try
    local month_path = base_path / "2023" / "01"
    local items = list_files(month_path)
    print("Количество элементов: ", len(items))
    print("Элементы:")
    for item in items do
        print("  - ", item)
    next item
catch e
    print("Ошибка: ", e)
endtry

